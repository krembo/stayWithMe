(function(e){e.fn.stayWithMe=function(t){var n=this;e("body").append(n);var r=e.extend(true,{style:{color:"#fff",backgroundColor:"#4679bd",borderRadius:10,padding:"20px 15px",width:n.width(),height:n.height(),minWidth:200,minHeight:100,position:"absolute"}},t);this.hide().css(r.style).append('<span class="swm-close" style="position: absolute; top: 5px; right: 10px; cursor: pointer;">close</span>');e(".swm-close").click(function(){n.unjump()});e("body").mouseleave(function(e){if(e.offsetY<=0||e.clientY<=0){n.jump();var t=10,r=10,i=n.height(),s=n.width(),o=parseInt(n.css("padding-top")),u=parseInt(n.css("padding-left"));if(e.view.innerHeight>i+2*o){t=Math.floor((e.view.innerHeight-i-2*o)/2)+pageYOffset}else{i=e.view.innerHeight-20-2*o}if(e.view.innerWidth>s+2*u){r=Math.floor((e.view.innerWidth-s-2*u)/2)+pageXOffset}else{s=e.view.innerWidth-20-2*u}n.css({top:t,left:r,width:s,height:i})}});this.jump=function(){this.show()};this.unjump=function(){this.hide()};return this}})(jQuery)